# 配置物模型


## 物模型概述

物模型是对设备在云端的功能进行描述，包括设备的属性、功能、事件和标签。物联网平台使用一种名为TSL的物的描述语言来定义物模型，该语言采用JSON格式。通过组装设备上报的数据，您可以根据TSL进行操作。

## 功能说明

物模型是物理空间中的实体在云端的数字化表示，包括传感器设备、消防装置、园区、工厂等。通过定义物模型的属性、功能、事件和标签四个维度，我们能够更全面地描述该实体的特性和能力，以及提供哪些信息给外部系统。此外，还可以自定义补充一些信息，使其更符合业务需求。物模型的这四个维度涵盖了物体的基本属性、行为、状态和元数据等方面，从而完成了产品功能的定义。通过使用物模型，我们可以更加方便地管理和控制实体的运行状态，实现更高效的物联网应用。

| 类型 | 说明                                                         |
| ---- | ------------------------------------------------------------ |
| 属性 | 用于描述设备在运行时所具有的具体信息和状态。例如，环境监测设备可以通过属性来描述当前环境的温度，智能灯可以通过属性来描述开关状态，电风扇可以通过属性来描述风力等级等。属性通常分为三种类型：读、写和上报。其中，读属性用于获取设备当前的属性值，写属性则用于设置设备的属性值，而上报属性则是设备主动向系统上报属性值的类型。 |
| 功能 | 是指设备可供外部调用的指令或方法。功能服务调用可以设置输入和输出参数，其中输入参数用于指定服务执行时所需的参数，而输出参数则表示服务执行后的结果。相比于属性，功能服务可以实现更为复杂的业务逻辑，例如执行某项特定的任务。服务分为两种调用方式：同步和异步。同步调用是指客户端向设备发送服务请求后，等待设备响应后再继续执行后续操作；而异步调用则是指客户端向设备发送服务请求后，立即返回结果并继续执行后续操作，待设备响应后再执行回调函数。通过服务的定义和调用，我们可以更加灵活地操作设备，实现更多样化的物联网应用。 |
| 事件 | 是指设备在运行时主动上报给云端的信息，通常包括需要被外部感知和处理的信息、告警和故障等。事件可以包含多个输出参数，用于描述事件发生时的具体情况。例如，某项任务完成后的通知信息、设备发生故障时的温度和时间信息、设备告警时的运行状态等。事件可以被订阅和推送，当事件发生时，系统可以向订阅者推送相应的消息。通过事件的定义和使用，我们可以更加及时地了解设备的运行状态。 |
| 标签 | 是指设备跟据业务需要自定义标签信息。                         |

## 支持的数据类型

| 参数      | 说明                                                         | 示例                        |
|---------| ------------------------------------------------------------ |---------------------------|
| int     | 32位整形                                                     | 100                       |
| float   | 单精度浮点型                                                 | 10.4                      |
| double  | 双精度浮点型                                                 | 10.45                     |
| text    | 字符串，对应的数据长度不能超过10240字节。                    | 你好，SagooIOT               |
| date    | 时间戳。默认格式为String类型的UTC时间戳，单位：毫秒。        | 1626738482010             |
| boolean | 布尔型。采用0（false）或1（true）来定义布尔值                | 1表示是、0表示否                 |
| enum    | 枚举型。定义枚举项的参数值和参数描述。                       | `[{key:1,value:1}]`         |
| array   | 数组。需声明数组内的元素类型、数组元素个数。需确保同一个数组元素类型相同。元素个数限制为1~512个。 | `[1, 2, 3, 4, 5, 6]`        |
| Object  | 结构体数据，支持树形结构化数据。树形数据格式为JSON。 | `[{"name":"开关","value":1}]` |
