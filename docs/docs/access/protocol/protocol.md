---
sidebar_position: 1
---
# 设备接入协议

设备成功连网后，还需要采用特定协议与云平台进行数据交互。下面简要介绍几种常用的设备接入协议，以及选用时的注意事项。

## **MQTT**

MQTT是一种轻量级的发布订阅式消息协议，工作在TCP协议上。它需要设备与云平台建立持久TCP连接，并完成身份验证后，可以进行数据通信。

MQTT协议具有以下显著优势:

### **支持实时控制**

MQTT通过与云平台的长连接，可以实现实时的命令下发和控制。设备可以即时收到控制指令，实现智能家居、农业监控等场景的实时控制。

### **便于监测设备状态**

长连接也便于监测设备在线状态。虽然由于网络问题，设备连接可能会出现断开，但MQTT本身的心跳机制可以很好地检测状态。

### **安全级别灵活**

MQTT支持不同的安全认证机制。对于资源受限的设备，可以使用简单的用户名密码加密。对安全要求高的场景，可以使用TLS证书机制，保证数据安全。

### **数据流量小**

MQTT使用二进制格式，相比文本协议，可以大幅减少无效负载。这对诸如NB-IoT等低带宽网络来说非常有利。MQTT是一个高效、灵活、安全的物联网消息协议。它非常适合需要实时控制和监测的场景，是物联网的首选接入协议。

## **HTTP**

HTTP 协议运行在TCP之上，对开发者非常友好。设备可以通过HTTP向云平台发送数据。

HTTP方式简单实用，如果设备资源允许，可以使用HTTPs实现安全传输。但HTTP不如MQTT实时，无法进行命令控制。单纯的数据采集场景可以选择HTTP。

## **CoAP**

CoAP是一种精简的REST风格协议，运行在UDP上，更适合低功耗设备使用。

CoAP除了更轻量之外，与HTTP使用方式高度相似。如果设备资源有限，可以考虑使用CoAP。

更多的内容看这里【[CoAP协议](coap.md)】

## **Modbus**

Modbus是工业自动化领域广泛使用的一种通信协议。

Modbus协议可以支持多种通信方式，包括RS-485、RS-422、RS-232，以及以太网等，并且可以支持一台主设备与多台从设备的通信模式。

Modbus协议定一个了信息的格式和过程，如何在设备之间发送/接收信息，以达到进行数据交换、控制和回读等目的。协议内定义了函数码来指定读写操作等具体行为，也规定了数据模型来解析和封装数据。

更多的内容看这里【[Modbus协议](modbus.md)】


## **TCP**

SagooIOT也支持基于TCP的自定义协议接入。比如很多DTU设备采用TCP透传方式。

TCP方式可以高度定制，但需要自主开发通信格式解析。也可以在云平台进行格式转换，以适应不同设备。



设备可根据资源情况、实时性需求、安全需求等，选择MQTT、HTTP、CoAP或TCP接入协议。

无论采用何种协议，都需要进行格式解析、身份验证等处理。SagooIOT提供不同协议的接入方式，以及后端的数据处理与转换功能。
