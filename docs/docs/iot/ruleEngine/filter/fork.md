---
title: '关行网关'
sidebar_position: 3
hide_title: true
keywords: [规则引擎,并行网关,消息分流,并行处理,消息复制,多路径处理,消息分发,数据流转,并发处理,分流器]
description: '详细介绍SagooIOT平台规则引擎中并行网关节点的功能和使用方法，包括消息分流机制、应用场景、最佳实践等内容，帮助用户实现高效的并行数据处理流程。'
---


## 节点说明

并行网关节点是一个消息分流器，它可以将输入消息复制并同时发送到多个处理路径，实现并行处理。每个输出路径都会收到相同的消息副本，可以执行不同的处理逻辑。

## 界面配置说明

### 1. 基本设置

- **节点ID**: 节点的唯一标识符（示例中为 "node_24"）
- **名称**: 节点的显示名称
- **调试模式**: 可开启调试模式查看消息分发情况

### 2. 配置特点

- 无需额外参数配置
- 通过图形界面连接多个输出路径
- 每个输出路径独立执行

## 使用场景示例

### 1. 多渠道数据处理

```


Fork节点
├── 路径1: 数据存储到数据库
├── 路径2: 发送告警通知
└── 路径3: 数据分析处理
```

### 2. 设备状态监控

```
Fork节点
├── 路径1: 实时状态显示
├── 路径2: 历史数据记录
└── 路径3: 异常检测分析
```

### 3. 消息广播

```
Fork节点
├── 路径1: Web客户端推送
├── 路径2: 移动端推送
└── 路径3: 邮件通知
```

## 路由规则

### 1. Success链路

- 消息会被复制并发送到所有连接的Success链路
- 每个路径独立执行，互不影响
- 保持消息内容的一致性

### 2. Failure链路

- 当节点执行出现异常时使用
- 用于处理分发失败的情况

## 最佳实践

### 1. 并行处理设计

```
# 数据处理方案
Fork节点
├── 路径1: 原始数据存储
├── 路径2: 数据转换处理
└── 路径3: 实时监控分析
```

### 2. 多级分发

```
# 多层级处理
Fork节点
├── 路径1: 二级Fork节点
│   ├── 子路径1: 处理A
│   └── 子路径2: 处理B
└── 路径2: 直接处理
```

### 3. 条件组合

```
# 条件处理方案
Fork节点
├── 路径1: 表达式过滤器
├── 路径2: 字段过滤器
└── 路径3: 直接处理
```

## 应用示例

1. **实时数据处理**

```
Fork节点
├── 路径1: 实时显示（WebSocket推送）
├── 路径2: 数据存储（时序数据库）
└── 路径3: 告警检测（规则引擎）
```

1. **多渠道通知**

```
Fork节点
├── 路径1: 邮件通知
├── 路径2: 短信通知
└── 路径3: 应用内推送
```

Fork节点通过简单的配置即可实现消息的并行处理，提高系统处理效率。它不会修改消息内容，专注于消息的分发和路由功能。合理使用Fork节点可以构建灵活高效的数据处理流程。
