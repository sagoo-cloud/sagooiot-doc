---
title: '过滤器组'
sidebar_position: 4
hide_title: true
keywords: [规则引擎,规则链,golang,go语言,编排式,热部署,数据集成,IoT,物联网平台,组件化,流程自动化,自动化引擎,应用集成,事件框架]
description: '轻量级、高性能、嵌入式、新一代组件编排规则引擎'
---


## 节点说明

过滤器组节点用于将多个过滤器组合成一个整体，实现复杂的过滤逻辑。可以配置为"全部匹配"（AND逻辑）或"任一匹配"（OR逻辑）模式。

## 界面配置说明

### 1. 基本设置

- **节点ID**: 节点的唯一标识符（示例中为 "node_26"）
- **名称**: 节点的显示名称
- **调试模式**: 可开启调试模式查看过滤结果

### 2. 核心配置项

- **是否需要全匹配**:
    - 开启：要求所有子节点都匹配（AND逻辑）
    - 关闭：任一子节点匹配即可（OR逻辑）
- **组内节点ID列表**:
    - 必填项
    - 多个ID用逗号分隔
    - 例如：`filter1,filter2,filter3`
- **组内执行超时**:
    - 单位：秒
    - 默认值：0（不设置超时）
    - 用于控制组内过滤器的执行时间

## 使用场景示例

### 1. 多条件数据过滤（AND逻辑）

```

是否需要全匹配: 是
组内节点ID列表: temp_filter,humid_filter,status_filter
# 温度、湿度、状态都符合要求才通过
```

### 2. 告警条件检测（OR逻辑）

```
是否需要全匹配: 否
组内节点ID列表: high_temp,low_power,error_status
# 任一告警条件满足即触发
```

### 3. 复杂业务规则

```
是否需要全匹配: 是
组内节点ID列表: auth_check,data_valid,business_rule
超时时间: 5
# 所有业务规则都满足且5秒内完成
```

## 路由规则

### 1. True链路（过滤通过）

- 全匹配模式：所有子节点都返回true
- 任一匹配模式：任一子节点返回true

### 2. False链路（过滤不通过）

- 全匹配模式：任一子节点返回false
- 任一匹配模式：所有子节点都返回false

### 3. Failure链路（执行失败）

- 节点ID列表为空
- 执行超时
- 组件运行异常

## 最佳实践

### 1. 数据质量控制

```
# 数据完整性检查
是否需要全匹配: 是
组内节点ID列表: required_fields,format_check,range_valid
超时时间: 3
```

### 2. 多级告警系统

```
# 设备告警检测
是否需要全匹配: 否
组内节点ID列表: temp_alert,power_alert,network_alert
超时时间: 2
```

### 3. 权限控制

```
# 访问权限验证
是否需要全匹配: 是
组内节点ID列表: token_valid,role_check,resource_access
超时时间: 1
```

## 注意事项

1. **配置建议**
    - 合理设置超时时间
    - 控制组内节点数量
    - 避免循环依赖
2. **性能优化**
    - 优先执行轻量级过滤
    - 合理使用超时机制
    - 避免过深的嵌套
3. **错误处理**
    - 处理节点ID无效情况
    - 注意超时异常处理
    - 做好失败路径处理

## 调试建议

1. **开启调试模式**
    - 监控各节点执行情况
    - 查看匹配结果详情
    - 分析执行时间
2. **分步测试**
    - 先测试单个过滤器
    - 逐步添加组合条件
    - 验证逻辑关系正确性
3. **常见问题排查**
    - 检查节点ID是否正确
    - 验证逻辑关系是否合理
    - 确认超时设置是否适当

## 应用示例

1. **设备状态监控**

```
# 设备异常检测
是否需要全匹配: 否
组内节点ID列表: offline_check,error_check,performance_check
超时时间: 5
```

2. **数据处理流程**

```
# 数据预处理验证
是否需要全匹配: 是
组内节点ID列表: format_valid,size_check,content_verify
超时时间: 2
```

通过过滤器组节点，您可以实现复杂的条件组合和业务规则验证。该节点不会修改消息内容，专注于提供灵活的过滤逻辑组合功能。
